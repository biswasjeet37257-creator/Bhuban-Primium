<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search | Bhuban</title>
    <link rel="icon" type="image/png" href="this-is-a-video-sharing-app-like-a-youtube-and-the-1770747539971.png">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --accent: #ff3b30;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, system-ui, sans-serif;
        }

        body {
            background: #000;
            color: #fff;
        }

        .search-header {
            padding: 15px 20px;
            background: #0a0a0e;
            border-bottom: 1px solid #222;
            display: flex;
            align-items: center;
            gap: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .search-input-container {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            background: #1a1a1e;
            border: 1px solid #333;
            border-radius: 24px;
            padding: 12px 45px 12px 20px;
            color: #fff;
            font-size: 16px;
            outline: none;
            transition: 0.2s;
        }

        .search-input:focus {
            border-color: var(--accent);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
        }

        .filters {
            padding: 15px 20px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            border-bottom: 1px solid #222;
        }

        .filters::-webkit-scrollbar {
            display: none;
        }

        .filter-chip {
            padding: 8px 16px;
            background: #1a1a1e;
            border: 1px solid #333;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            transition: 0.2s;
            font-size: 14px;
        }

        .filter-chip.active {
            background: var(--accent);
            border-color: var(--accent);
        }

        .filter-chip:hover {
            border-color: var(--accent);
        }

        .suggestions {
            padding: 20px;
        }

        .suggestion-title {
            font-size: 14px;
            color: #888;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .suggestion-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: #0a0a0e;
            border-radius: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: 0.2s;
        }

        .suggestion-item:hover {
            background: #1a1a1e;
        }

        .results {
            padding: 20px;
        }

        .result-item {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .result-thumb {
            width: 160px;
            aspect-ratio: 16/9;
            background: #111;
            border-radius: 12px;
            overflow: hidden;
            flex-shrink: 0;
            position: relative;
        }

        .result-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .result-duration {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: rgba(0, 0, 0, 0.8);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 700;
        }

        .result-info {
            flex: 1;
        }

        .result-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 5px;
            line-height: 1.3;
        }

        .result-meta {
            font-size: 13px;
            color: #888;
            margin-bottom: 5px;
        }

        .result-description {
            font-size: 13px;
            color: #aaa;
            line-height: 1.4;
        }

        .ai-suggestion {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(0, 153, 255, 0.1));
            border: 1px solid rgba(0, 212, 255, 0.3);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .ai-suggestion-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #00d4ff;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
    </style>
</head>

<body>
    <div class="search-header">
        <i data-lucide="arrow-left" onclick="window.history.back()" style="cursor:pointer;"></i>
        <div class="search-input-container">
            <input type="text" class="search-input" id="search-input" placeholder="Search videos, channels, creators..."
                autofocus>
            <i data-lucide="search" class="search-icon" onclick="performSearch()"></i>
        </div>
        <i data-lucide="mic" onclick="voiceSearch()" style="cursor:pointer;"></i>
    </div>

    <div class="filters" id="filters">
        <div class="filter-chip active" onclick="setFilter('all', this)">All</div>
        <div class="filter-chip" onclick="setFilter('videos', this)">Videos</div>
        <div class="filter-chip" onclick="setFilter('shorts', this)">Shorts</div>
        <div class="filter-chip" onclick="setFilter('channels', this)">Channels</div>
        <div class="filter-chip" onclick="setFilter('4k', this)">4K</div>
        <div class="filter-chip" onclick="setFilter('hd', this)">HD</div>
        <div class="filter-chip" onclick="setFilter('recent', this)">Recent</div>
        <div class="filter-chip" onclick="setFilter('popular', this)">Popular</div>
    </div>

    <div id="content-area">
        <!-- Suggestions (shown when no search) -->
        <div class="suggestions" id="suggestions">
            <div class="ai-suggestion">
                <div class="ai-suggestion-title">
                    <i data-lucide="sparkles" style="width:20px; height:20px;"></i>
                    AI-Powered Search
                </div>
                <div style="font-size:14px; color:#aaa;">
                    Try natural language queries like "4K tech reviews" or "funny cat videos"
                </div>
            </div>

            <div class="suggestion-title">ðŸ”¥ Trending Searches</div>
            <div class="suggestion-item" onclick="searchFor('iPhone 16 Pro Max')">
                <i data-lucide="trending-up" style="color:var(--accent);"></i>
                <div>iPhone 16 Pro Max</div>
            </div>
            <div class="suggestion-item" onclick="searchFor('Apple Vision Pro')">
                <i data-lucide="trending-up" style="color:var(--accent);"></i>
                <div>Apple Vision Pro</div>
            </div>
            <div class="suggestion-item" onclick="searchFor('AI Coding Tutorial')">
                <i data-lucide="trending-up" style="color:var(--accent);"></i>
                <div>AI Coding Tutorial</div>
            </div>

            <div class="suggestion-title" style="margin-top:20px;">ðŸ“š Your Recent Searches</div>
            <div id="recent-searches"></div>

            <div class="suggestion-title" style="margin-top:20px;">ðŸŽ¯ Recommended for You</div>
            <div class="suggestion-item" onclick="searchFor('Tech Reviews 4K')">
                <i data-lucide="video"></i>
                <div>Tech Reviews 4K</div>
            </div>
            <div class="suggestion-item" onclick="searchFor('Gaming Highlights')">
                <i data-lucide="gamepad-2"></i>
                <div>Gaming Highlights</div>
            </div>
        </div>

        <!-- Results (shown after search) -->
        <div class="results" id="results" style="display:none;"></div>
    </div>

    <script>
        lucide.createIcons();

        const sampleResults = [
            { title: "iPhone 16 Pro Max - Complete Review", channel: "Tech Daily", views: "2.4M", time: "2 days ago", duration: "15:42", img: "https://images.unsplash.com/photo-1616348436168-de43ad0db179?q=80&w=400", description: "In-depth review of the latest iPhone with camera tests and performance benchmarks." },
            { title: "Apple Vision Pro First Impressions", channel: "MKBHD", views: "5.1M", time: "1 week ago", duration: "12:30", img: "https://images.unsplash.com/photo-1478416432160-dc816ca2911a?q=80&w=400", description: "Hands-on with Apple's revolutionary spatial computing device." },
            { title: "AI Coding in 2026 - Full Tutorial", channel: "Code Master", views: "890K", time: "3 days ago", duration: "25:15", img: "https://images.unsplash.com/photo-1542831371-29b0f74f9713?q=80&w=400", description: "Learn how to use AI tools to code faster and smarter." },
            { title: "Cyberpunk 2077 4K Ray Tracing", channel: "Gaming World", views: "1.2M", time: "5 days ago", duration: "18:20", img: "https://images.unsplash.com/photo-1605810230434-7631ac76ec81?q=80&w=400", description: "Stunning graphics showcase with RTX 4090." },
            { title: "MacBook M4 vs M3 Speed Test", channel: "Unbox Therapy", views: "3.5M", time: "1 day ago", duration: "10:45", img: "https://images.unsplash.com/photo-1517336712461-48116f39846b?q=80&w=400", description: "Which one should you buy? Complete comparison." }
        ];

        let currentFilter = 'all';

        // Load recent searches
        function loadRecentSearches() {
            const recent = JSON.parse(localStorage.getItem('bhuban_recent_searches') || '[]');
            const container = document.getElementById('recent-searches');

            if (recent.length === 0) {
                container.innerHTML = '<div style="color:#666; padding:10px;">No recent searches</div>';
                return;
            }

            container.innerHTML = recent.slice(0, 5).map(query => `
                <div class="suggestion-item" onclick="searchFor('${query}')">
                    <i data-lucide="clock"></i>
                    <div>${query}</div>
                    <i data-lucide="x" onclick="event.stopPropagation(); removeSearch('${query}')" style="margin-left:auto; cursor:pointer;"></i>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function removeSearch(query) {
            let recent = JSON.parse(localStorage.getItem('bhuban_recent_searches') || '[]');
            recent = recent.filter(q => q !== query);
            localStorage.setItem('bhuban_recent_searches', JSON.stringify(recent));
            loadRecentSearches();
        }

        function searchFor(query) {
            document.getElementById('search-input').value = query;
            performSearch();
        }

        function performSearch() {
            const query = document.getElementById('search-input').value.trim();
            if (!query) return;

            // Save to recent searches
            let recent = JSON.parse(localStorage.getItem('bhuban_recent_searches') || '[]');
            recent = [query, ...recent.filter(q => q !== query)].slice(0, 10);
            localStorage.setItem('bhuban_recent_searches', JSON.stringify(recent));

            // Show results
            document.getElementById('suggestions').style.display = 'none';
            document.getElementById('results').style.display = 'block';

            // Filter results based on query
            const filtered = sampleResults.filter(r =>
                r.title.toLowerCase().includes(query.toLowerCase()) ||
                r.channel.toLowerCase().includes(query.toLowerCase()) ||
                r.description.toLowerCase().includes(query.toLowerCase())
            );

            const resultsContainer = document.getElementById('results');

            if (filtered.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="empty-state">
                        <i data-lucide="search-x" style="width:60px; height:60px; margin-bottom:15px; color:#333;"></i>
                        <h3>No results found</h3>
                        <p style="margin-top:10px;">Try different keywords or filters</p>
                    </div>
                `;
                lucide.createIcons();
                return;
            }

            resultsContainer.innerHTML = `
                <div class="ai-suggestion">
                    <div class="ai-suggestion-title">
                        <i data-lucide="sparkles" style="width:20px; height:20px;"></i>
                        Found ${filtered.length} results for "${query}"
                    </div>
                </div>
                ${filtered.map(r => `
                    <div class="result-item">
                        <div class="result-thumb">
                            <img src="${r.img}" alt="${r.title}">
                            <div class="result-duration">${r.duration}</div>
                        </div>
                        <div class="result-info">
                            <div class="result-title">${r.title}</div>
                            <div class="result-meta">${r.channel} â€¢ ${r.views} views â€¢ ${r.time}</div>
                            <div class="result-description">${r.description}</div>
                        </div>
                    </div>
                `).join('')}
            `;
            lucide.createIcons();
        }

        function setFilter(filter, btn) {
            currentFilter = filter;
            document.querySelectorAll('.filter-chip').forEach(chip => chip.classList.remove('active'));
            btn.classList.add('active');

            if (document.getElementById('results').style.display === 'block') {
                performSearch();
            }
        }

        function voiceSearch() {
            if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
                alert('Voice search not supported. Please use Chrome or Edge.');
                return;
            }

            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            recognition.lang = 'en-US';

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                document.getElementById('search-input').value = transcript;
                performSearch();
            };

            recognition.start();
        }

        // Handle enter key
        document.getElementById('search-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') performSearch();
        });

        // Handle back button
        document.getElementById('search-input').addEventListener('input', (e) => {
            if (e.target.value === '') {
                document.getElementById('suggestions').style.display = 'block';
                document.getElementById('results').style.display = 'none';
            }
        });

        loadRecentSearches();
    </script>
</body>

</html>